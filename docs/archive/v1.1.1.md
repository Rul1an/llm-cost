# v1.1.1 "Hardening"

**Tag:** `v1.1.1`
**Type:** Patch (determinism + security hardening)
**Breaking changes:** None

### Highlights

* **Determinisme (bit-for-bit)**
  * Nieuwe `src/core/json_canonical.zig` voor canonical JSON output (RFC 8785-inspired).
  * `estimate` output: stabiele sortering (prompts op `resource_id`) + fixed precision cost strings.
  * `diff` output: stabiele JSON key ordering + stabiele number formatting.
  * FOCUS export: `Tags` deterministisch (canonical JSON, sorted keys) en CSV blijft RFC 4180-correct.

* **Security & Input Hardening**
  * Pricing DB parser: resource limits (10MB max JSON, 1000 max models) ter preventie van OOM/DoS.
  * Minisign verifier: bounds checks + strict line length limits (8KB) om decoder edge-cases te mitigeren.

* **Supply-chain / Release Integrity**
  * Release artifacts bevatten `checksums.txt` (`<sha256>  <filename>`) voor verificatie.
  * Build provenance via GitHub attestations (`actions/attest-build-provenance@v2`).

* **CI Verificatie**
  * `scripts/verify-determinism.sh` test repetitieve output consistency.
  * Nieuwe workflow `.github/workflows/determinism.yml` handhaaft dit op elke PR.

## How to Verify
1. Download artifacts.
2. Verify checksums: `shasum -a 256 -c checksums.txt`.
3. Verify attestation: `gh attestation verify llm-cost-<os>-<arch> --repo Rul1an/llm-cost`.
